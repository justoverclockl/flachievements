{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@malago/flarum-achievements/webpack/bootstrap","webpack://@malago/flarum-achievements/webpack/runtime/compat get default export","webpack://@malago/flarum-achievements/webpack/runtime/define property getters","webpack://@malago/flarum-achievements/webpack/runtime/hasOwnProperty shorthand","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['admin/app']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['Model']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['models/User']\"","webpack://@malago/flarum-achievements/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@malago/flarum-achievements/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['utils/mixin']\"","webpack://@malago/flarum-achievements/./src/common/models/Achievement.js","webpack://@malago/flarum-achievements/./src/common/models/AchievementUser.js","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/ExtensionPage']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['helpers/icon']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/Modal']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/Button']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/Checkbox']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/Tooltip']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['utils/ItemList']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['utils/Stream']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['common/Component']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/Dropdown']\"","webpack://@malago/flarum-achievements/./src/admin/components/GroupSelector.js","webpack://@malago/flarum-achievements/./src/admin/components/AchievementModal.js","webpack://@malago/flarum-achievements/./src/admin/components/AchievementUserModal.js","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['utils/saveSettings']\"","webpack://@malago/flarum-achievements/external root \"flarum.core.compat['components/Switch']\"","webpack://@malago/flarum-achievements/./src/admin/components/AchievementsPage.js","webpack://@malago/flarum-achievements/./src/admin/index.js","webpack://@malago/flarum-achievements/./src/common/registerModels.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['models/User'];","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/mixin'];","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport Model from 'flarum/Model';\r\nimport mixin from 'flarum/utils/mixin';\r\n\r\nexport default class Achievement extends Model {}\r\n \r\nObject.assign(Achievement.prototype, {\r\n  id: Model.attribute(\"id\"),\r\n  name: Model.attribute(\"name\"),\r\n  description: Model.attribute('description'),\r\n  computation: Model.attribute('computation'),\r\n  points: Model.attribute('points'),\r\n  rectangle: Model.attribute('rectangle'),\r\n  image: Model.attribute('image'),\r\n  new: Model.attribute('new'),\r\n  active: Model.attribute('active'),\r\n  hidden: Model.attribute('hidden'),\r\n});","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport Model from 'flarum/Model';\r\n\r\nexport default class AchievementUser extends Model {}\r\n\r\nObject.assign(AchievementUser.prototype, {\r\n  achievement_id: Model.attribute(\"achievement_id\"),\r\n  user_id: Model.attribute('user_id'),\r\n  new: Model.attribute('new')\r\n});","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Checkbox'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Tooltip'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Dropdown'];","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport Component from \"flarum/common/Component\";\r\nimport Button from \"flarum/components/Button\";\r\nimport Dropdown from \"flarum/components/Dropdown\";\r\nimport app from 'flarum/admin/app'\r\n\r\nexport default class GroupSelector extends Component {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n  }\r\n\r\n  oncreate(vnode) {\r\n    super.oncreate(vnode);\r\n  }\r\n\r\n  view() {\r\n    const variables=[\"manual\",\"posts\", \"likes\", \"selflikes\", \"discussions\", \"edits\", \"avatar\", \"comments\", \"contains\", \"meanwords\", \"tagposts\", \"years\"];\r\n    const label = app.translator.trans(\"malago-achievements.admin.achievement_modal.variable.\"+this.attrs.id());\r\n\r\n    return (\r\n      <span>\r\n          <Dropdown\r\n            label={label}\r\n            buttonClassName=\"Button Button--danger\"\r\n          >\r\n            {variables.map((g) =>\r\n                Button.component(\r\n                {\r\n                  active: this.attrs.id(),\r\n                  onclick: () => {\r\n                      this.attrs.id(g);\r\n                      if(g===\"avatar\" || g===\"manual\"){\r\n                        $(\".FormInline\").addClass(\"FormHidden\");\r\n                      }else{\r\n                        $(\".FormInline\").removeClass(\"FormHidden\");\r\n                        $(\"input.FormInline\").attr(\"data-original-title\", app.translator.trans(\"malago-achievements.admin.achievement_modal.tooltip.\"+g));\r\n                      }\r\n                  },\r\n                },\r\n                app.translator.trans(\"malago-achievements.admin.achievement_modal.variable.\"+g),\r\n                )\r\n            )}\r\n          </Dropdown>\r\n      </span>\r\n    );\r\n  }\r\n}\r\n","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport Modal from \"flarum/components/Modal\";\r\nimport Button from \"flarum/components/Button\";\r\nimport Checkbox from \"flarum/components/Checkbox\";\r\nimport Tooltip from \"flarum/components/Tooltip\";\r\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\r\nimport ItemList from \"flarum/utils/ItemList\";\r\nimport Stream from \"flarum/utils/Stream\";\r\nimport GroupSelector from \"./GroupSelector\";\r\n\r\nexport default class AchievementModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    this.achievement =\r\n      this.attrs.model || app.store.createRecord(\"achievements\");\r\n\r\n    this.id = Stream(this.achievement.data.id || \"-\");\r\n    this.name = Stream(this.achievement.name() || \"\");\r\n    this.description = Stream(this.achievement.description() || \"\");\r\n    if (this.achievement.computation()) {\r\n      var c = this.achievement.computation().split(':');\r\n      this.selected_variable = Stream(c[0])\r\n      this.computation = Stream(c[1]);\r\n\r\n      if (this.selected_variable() == \"avatar\" || this.selected_variable() == \"manual\") {\r\n        $(\".FormInline\").hide();\r\n      }\r\n    } else {\r\n      this.computation = Stream(\"\");\r\n      this.selected_variable = Stream(\"manual\");\r\n    }\r\n\r\n    this.points = Stream(this.achievement.points() || \"\");\r\n    this.image = Stream(this.achievement.image() || \"\");\r\n    this.active = Stream(this.achievement.active() || 1);\r\n    this.hidden = Stream(this.achievement.hidden() || 0);\r\n\r\n    if (this.achievement.rectangle()) {\r\n      var rectangle = this.achievement.rectangle().split(',');\r\n\r\n      this.row = Stream(rectangle[0] / rectangle[2] + 1);\r\n      this.col = Stream(rectangle[1] / rectangle[3] + 1);\r\n\r\n      this.width = Stream(rectangle[3]);\r\n      this.height = Stream(rectangle[2]);\r\n    } else {\r\n      this.row = Stream(\"1\");\r\n      this.col = Stream(\"1\");\r\n      this.width = Stream(\"\");\r\n      this.height = Stream(\"\");\r\n    }\r\n\r\n  }\r\n\r\n  className() {\r\n    return \"EditAchievementModal Modal--large\";\r\n  }\r\n\r\n  title() {\r\n    return this.name()\r\n      ? this.name() + \" ID: \" + this.id()\r\n      : app.translator.trans(\r\n        \"malago-achievements.admin.achievement_modal.title\"\r\n      );\r\n  }\r\n\r\n  content() {\r\n    if (this.loading) {\r\n      return (\r\n        <div className=\"Modal-body\">\r\n          <div className=\"Form\">\r\n            <div className=\"container\">\r\n              <LoadingIndicator />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    var all_fields = this.fields().toArray();\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"ModalColumn\">{all_fields.slice(0, 6)}</div>\r\n          <div className=\"ModalColumn\">{all_fields.slice(6)}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n\r\n    items.add(\r\n      \"name\",\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.name_label\"\r\n          )}\r\n        </label>\r\n        <input\r\n          className=\"FormControl\"\r\n          placeholder={app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.name_placeholder\"\r\n          )}\r\n          bidi={this.name}\r\n        />\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"active\",\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.active_label\"\r\n          )}\r\n        </label>\r\n        {Checkbox.component(\r\n          {\r\n            state: this.active(),\r\n            onchange: () => {\r\n              this.active((this.active() + 1) % 2);\r\n            },\r\n          }\r\n        )}\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"hidden\",\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.hidden_label\"\r\n          )}\r\n        </label>\r\n        {Checkbox.component(\r\n          {\r\n            state: this.hidden(),\r\n            onchange: () => {\r\n              this.hidden((this.hidden() + 1) % 2);\r\n            },\r\n          }\r\n        )}\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"description\",\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.description_label\"\r\n          )}\r\n        </label>\r\n        <input\r\n          className=\"FormControl\"\r\n          placeholder={app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.description_placeholder\"\r\n          )}\r\n          bidi={this.description}\r\n        />\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"computation\",\r\n      <div className=\"Form-group\">\r\n        <label>{app.translator.trans(\r\n          \"malago-achievements.admin.achievement_modal.variable_label\"\r\n        )}</label>\r\n        <GroupSelector\r\n          label={app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.variable_label\"\r\n          )}\r\n          id={this.selected_variable}\r\n        ></GroupSelector>\r\n        <Tooltip id='Tooltip-computation' text=\"\">\r\n          <input\r\n            className={this.selected_variable() == \"avatar\" || this.selected_variable() == \"manual\" ? \"FormControl FormHidden FormInline\" : \"FormControl FormInline\"}\r\n            placeholder={app.translator.trans(\r\n              \"malago-achievements.admin.achievement_modal.computation_placeholder\"\r\n            )}\r\n            bidi={this.computation}\r\n            />\r\n          </Tooltip>\r\n      </div>\r\n      ,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"points\",\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.points_label\"\r\n          )}\r\n        </label>\r\n        <input\r\n          className=\"FormControl\"\r\n          placeholder={app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.points_placeholder\"\r\n          )}\r\n          bidi={this.points}\r\n        />\r\n      </div>,\r\n      50\r\n    );\r\n    items.add(\r\n      \"image\",\r\n      <div className=\"Form-group\">\r\n        <label>\r\n          {app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.image_label\"\r\n          )}\r\n        </label>\r\n        <input\r\n          className=\"FormControl\"\r\n          placeholder={app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.image_placeholder\"\r\n          )}\r\n          bidi={this.image}\r\n          onchange={this.showImage()}\r\n        />\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"image-show\",\r\n      <div className=\"Form-group\">\r\n        <div class=\"AchievementImage-Show\">\r\n          &nbsp;\r\n        </div>\r\n      </div>\r\n      ,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"size\",\r\n      <div className=\"Form-group Image-data\">\r\n        <table className=\"AchievementModal-Table\">\r\n          <tr>\r\n            <td>\r\n              <label>\r\n                {app.translator.trans(\r\n                  \"malago-achievements.admin.achievement_modal.height_label\"\r\n                )}\r\n              </label>\r\n            </td>\r\n            <td>\r\n              <label>\r\n                {app.translator.trans(\r\n                  \"malago-achievements.admin.achievement_modal.width_label\"\r\n                )}\r\n              </label>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <input\r\n                className=\"FormControl\"\r\n                bidi={this.height}\r\n                onchange={this.showImage()}\r\n                type=\"number\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <input\r\n                className=\"FormControl\"\r\n                bidi={this.width}\r\n                onchange={this.showImage()}\r\n                type=\"number\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"position\",\r\n      <div className=\"Form-group Image-data\">\r\n        <table className=\"AchievementModal-Table\">\r\n          <tr>\r\n            <td>\r\n              <label>\r\n                {app.translator.trans(\r\n                  \"malago-achievements.admin.achievement_modal.row_label\"\r\n                )}\r\n              </label>\r\n            </td>\r\n            <td>\r\n              <label>\r\n                {app.translator.trans(\r\n                  \"malago-achievements.admin.achievement_modal.col_label\"\r\n                )}\r\n              </label>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>\r\n              <input\r\n                className=\"FormControl\"\r\n                placeholder={1}\r\n                bidi={this.col}\r\n                onchange={this.showImage()}\r\n                type=\"number\"\r\n              />\r\n            </td>\r\n            <td>\r\n              <input\r\n                className=\"FormControl\"\r\n                placeholder={1}\r\n                bidi={this.row}\r\n                onchange={this.showImage()}\r\n                type=\"number\"\r\n              />\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>,\r\n      50\r\n    );\r\n\r\n    items.add(\r\n      \"submit\",\r\n      <div className=\"Form-group\">\r\n        {Button.component(\r\n          {\r\n            type: \"submit\",\r\n            className: \"Button Button--primary EditAchievementModal-save\",\r\n            loading: this.loading,\r\n            disabled: this.name().length === 0,\r\n          },\r\n          app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.submit_button\"\r\n          )\r\n        )}\r\n        {this.achievement.exists ? (\r\n          <button\r\n            type=\"button\"\r\n            className=\"Button EditAchievementsModal-delete\"\r\n            onclick={this.delete.bind(this)}\r\n          >\r\n            {app.translator.trans(\r\n              \"malago-achievements.admin.achievement_modal.delete_button\"\r\n            )}\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>,\r\n      -10\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  showImage() {\r\n\r\n    const image = this.image();\r\n    const achievementImageShow = document.querySelector(\".AchievementImage-Show\");\r\n    const imageData = document.querySelector(\".Image-data\");\r\n\r\n    if (achievementImageShow && imageData) {\r\n      if (image.includes(\"http\")) {\r\n        achievementImageShow.innerHTML = \"\";\r\n        imageData.style.display = \"block\";\r\n        achievementImageShow.style.backgroundSize = \"cover\";\r\n        achievementImageShow.style.backgroundRepeat = \"no-repeat\";\r\n        achievementImageShow.style.backgroundPosition =\r\n          `-${(this.row() - 1) * this.height()}px -${(this.col() - 1) * this.width()}px`;\r\n        achievementImageShow.style.backgroundImage = `url(${image})`;\r\n        achievementImageShow.style.width = `${this.width()}px`;\r\n        achievementImageShow.style.height = `${this.height()}px`;\r\n      } else {\r\n        achievementImageShow.innerHTML = `<i class='icon ${image}'></i>`;\r\n        achievementImageShow.style.background = \"none\";\r\n        achievementImageShow.style.height = \"32px\";\r\n        achievementImageShow.style.width = \"32px\";\r\n        imageData.style.display = \"none\";\r\n      }\r\n    }\r\n  }\r\n\r\n  submitData() {\r\n    const data = {\r\n      name: this.name(),\r\n      description: this.description(),\r\n      computation: this.selected_variable() + \":\" + this.computation(),\r\n      points: this.points(),\r\n      image: this.image(),\r\n      rectangle: [(this.row() - 1) * this.height(), (this.col() - 1) * this.width(), this.height(), this.width()].join(','),\r\n      active: this.active(),\r\n      hidden: this.hidden()\r\n    };\r\n\r\n    return data;\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    this.achievement.save(this.submitData()).then(\r\n      () => this.hide(),\r\n      () => (this.loading = false)\r\n    );\r\n  }\r\n\r\n  delete() {\r\n    if (\r\n      confirm(\r\n        app.translator.trans(\r\n          \"malago-achievements.admin.achievement_modal.delete_confirmation\"\r\n        )\r\n      )\r\n    ) {\r\n      this.achievement.delete().then(() => {\r\n        m.redraw();\r\n      });\r\n\r\n      this.hide();\r\n    }\r\n  }\r\n}\r\n","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport Modal from \"flarum/components/Modal\";\r\nimport Button from \"flarum/components/Button\";\r\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\r\nimport ItemList from \"flarum/utils/ItemList\";\r\nimport Stream from \"flarum/utils/Stream\";\r\n\r\n\r\nexport default class AchievementUserModal extends Modal {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n    \r\n    this.achievement = this.attrs.model;\r\n    this.achievement_user = app.store.createRecord(\"achievement_user\")\r\n\r\n    this.name = Stream(this.achievement.name() || \"\");\r\n    this.id = Stream(this.achievement.data.id || \"\");\r\n\r\n    this.user_id = Stream(\"\");\r\n\r\n  }\r\n\r\n  className() {\r\n    return \"EditAchievementModal Modal--small\";\r\n  }\r\n\r\n  title() {\r\n    return this.name()\r\n      ? this.name()\r\n      : app.translator.trans(\r\n          \"malago-achievements.admin.achievement_modal.add_delete_title\"\r\n        );\r\n  }\r\n\r\n  content() {\r\n    if (this.loading) {\r\n      return (\r\n        <div className=\"Modal-body\">\r\n          <div className=\"Form\">\r\n            <div className=\"container\">\r\n              <LoadingIndicator />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">{this.fields().toArray()}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  fields() {\r\n    const items = new ItemList();\r\n    items.add(\r\n      \"instructions\",\r\n      <div className=\"Form-group\">\r\n          <p>{app.translator.trans(\r\n                \"malago-achievements.admin.achievement_modal.add_delete_instructions\"\r\n            )}</p>\r\n      </div>,\r\n      50\r\n      );\r\n    items.add(\r\n        \"user_id\",\r\n        <div className=\"Form-group\">\r\n            <label>\r\n            {app.translator.trans(\r\n                \"malago-achievements.admin.achievement_modal.username\"\r\n            )}\r\n            </label>\r\n            <input\r\n            className=\"FormControl\"\r\n            placeholder={app.translator.trans(\r\n                \"malago-achievements.admin.achievement_modal.username_placeholder\"\r\n            )}\r\n            bidi={this.user_id}\r\n            />\r\n        </div>,\r\n        50\r\n        );\r\n\r\n    items.add(\r\n      \"submit\",\r\n      <div className=\"Form-group\">\r\n        {Button.component(\r\n          {\r\n            type: \"submit\",\r\n            className: \"Button Button--primary EditAchievementModal-save\",\r\n            loading: this.loading,\r\n            disabled: this.name().length === 0,\r\n          },\r\n          app.translator.trans(\r\n            \"malago-achievements.admin.achievement_modal.submit_button\"\r\n          )\r\n        )}\r\n        \r\n      </div>,\r\n      -10\r\n    );\r\n\r\n    return items;\r\n  }\r\n\r\n  submitData() {\r\n    const data = {\r\n      id: this.id(),\r\n      user_id: this.user_id(),\r\n      new:1,\r\n    };\r\n\r\n    return data;\r\n  }\r\n\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n\r\n    this.loading = true;\r\n\r\n    if (this.user_id()!=\"\"){\r\n      this.achievement_user.save(this.submitData()).then(\r\n        () => this.hide(),\r\n        () => (this.loading = false)\r\n      );\r\n    }\r\n  }\r\n\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/saveSettings'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['components/Switch'];","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport ExtensionPage from \"flarum/components/ExtensionPage\";\r\nimport LoadingIndicator from \"flarum/components/LoadingIndicator\";\r\nimport icon from \"flarum/helpers/icon\";\r\nimport AchievementModal from \"./AchievementModal\";\r\nimport AchievementUserModal from \"./AchievementUserModal\";\r\nimport saveSettings from \"flarum/utils/saveSettings\";\r\nimport Stream from 'flarum/utils/Stream';\r\nimport Switch from 'flarum/components/Switch';\r\nimport Button from \"flarum/components/Button\";\r\n\r\nfunction AchievementsItem(achievement) {\r\n\r\n  const name = achievement\r\n    ? achievement.name()\r\n    : app.translator.trans(\r\n      \"malago-achievements.admin.achievements_page.create_achievement_button\"\r\n    );\r\n  const rectangle = (achievement ? achievement.rectangle() : \"0,0,32,32\").split(',')\r\n\r\n  var iconName = achievement ? \"\" : icon(\"fas fa-plus\");\r\n\r\n  const addString = app.translator.trans(\"malago-achievements.admin.achievements_page.add_delete_users\")\r\n\r\n  var style = \"background:none;\\\r\n      height:32px;\\\r\n      width:32px;\";\r\n\r\n  if (achievement)\r\n    if (achievement.image().includes(\"http\")) {\r\n      style = \"background:url(\" + achievement.image() + \");\\\r\n      background-position:-\"+ rectangle[0] + \"px -\" + rectangle[1] + \"px;\\\r\n      height:\"+ rectangle[2] + \"px;\\\r\n      width:\"+ rectangle[3] + \"px;\";\r\n    } else {\r\n      iconName = icon(achievement.image());\r\n    }\r\n  return (\r\n    <div\r\n      className=\"ExtensionListItem\"\r\n    >\r\n      <span className=\"ExtensionListItem-icon ExtensionIcon Achievement\" style={style} onclick={() => app.modal.show(AchievementModal, { model: achievement })}>\r\n        {iconName}</span>\r\n      <span className=\"ExtensionListItem-title\">{name}</span>\r\n      <span className=\"ExtensionListItem-user\" data-toggle='tooltip' title={addString} onclick={() => achievement ? app.modal.show(AchievementUserModal, { model: achievement }) : null}><i class=\"fas fa-users-cog\"></i></span>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default class AchievementsPage extends ExtensionPage {\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n\r\n    const settings = app.data.settings;\r\n    this.values = {};\r\n\r\n    this.settingsPrefix = \"malago-achievements\";\r\n\r\n    this.settings = [\r\n      'show-post-footer',\r\n      'show-user-card',\r\n      'link-left-column'\r\n    ];\r\n\r\n    this.settings.forEach((key) => (this.values[key] = Stream(Number(settings[this.addPrefix(key)]))));\r\n\r\n    this.loading = true;\r\n\r\n    app.store.find(\"achievements\").then(() => {\r\n      this.loading = false;\r\n      m.redraw();\r\n    });\r\n\r\n  }\r\n  content() {\r\n    if (this.loading) {\r\n      return (\r\n        <div className=\"Achievements\">\r\n          <div className=\"container\">\r\n            <LoadingIndicator />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"Achievements\">\r\n        <div className=\"container\">\r\n          <div className=\"ExtensionsWidget-list Achievements-list\">\r\n            <p className=\"Achievements-list-heading\">\r\n              {app.translator.trans(\r\n                \"malago-achievements.admin.achievements_page.list_heading\"\r\n              )}\r\n            </p>\r\n            <div className=\"ExtensionList AchievementListAdmin\">\r\n              {[\r\n                ...app.store.all(\"achievements\").map(AchievementsItem),\r\n                AchievementsItem(),\r\n              ]}\r\n            </div>\r\n          </div>\r\n          <p className=\"Achievements-list-heading\">\r\n              {app.translator.trans(\r\n                \"malago-achievements.admin.achievements_page.show\"\r\n              )}\r\n            </p>\r\n          {\r\n            m('form', {onsubmit: this.onsubmit.bind(this)},\r\n              m('fieldset', {className: 'Achievements-settings'}, [\r\n                Switch.component(\r\n                  {\r\n                      state: this.values['show-post-footer']() || false,\r\n                      onchange: this.values['show-post-footer'],\r\n                  },\r\n                  app.translator.trans('malago-achievements.admin.settings.show-post-footer')\r\n                ),\r\n                Switch.component(\r\n                  {\r\n                      state: this.values['show-user-card']() || false,\r\n                      onchange: this.values['show-user-card'],\r\n                  },\r\n                  app.translator.trans('malago-achievements.admin.settings.show-user-card')\r\n                ),\r\n                Switch.component(\r\n                  {\r\n                      state: this.values['link-left-column']() || false,\r\n                      onchange: this.values['link-left-column'],\r\n                  },\r\n                  app.translator.trans('malago-achievements.admin.settings.link-left-column')\r\n                ),\r\n                  Button.component({\r\n                    type: 'submit',\r\n                    className: 'Button Button--primary',\r\n                    disabled: !this.changed()\r\n                }, app.translator.trans('malago-achievements.admin.achievement_modal.submit_button')),\r\n              ])\r\n            )\r\n          }\r\n          <div className=\"Achievements-footer\">\r\n            <p className=\"Achievements-list-heading\">\r\n              {app.translator.trans(\r\n                \"malago-achievements.admin.achievements_page.instructions_header\"\r\n              )}\r\n            </p>\r\n            <ul>\r\n              {app.translator.trans(\r\n                \"malago-achievements.admin.achievements_page.instructions_text\"\r\n              )}\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  /**\r\n     * Checks if the values of the fields and checkboxes are different from\r\n     * the ones stored in the database\r\n     *\r\n     * @returns boolean\r\n     */\r\n  changed() {\r\n    const settingsChecked = this.settings.some(key => this.values[key]() !== app.data.settings[this.addPrefix(key)]);\r\n    return settingsChecked;\r\n  }\r\n  onsubmit(e) {\r\n    e.preventDefault();\r\n    // if the page is already saving, do nothing\r\n    if (this.loading) return;\r\n\r\n    // prevents multiple savings\r\n    this.loading = true;\r\n\r\n    // remove previous success popup\r\n    app.alerts.dismiss(this.successAlert);\r\n\r\n    const settings = {};\r\n\r\n    // gets all the values from the form\r\n    this.settings.forEach(key => settings[this.addPrefix(key)] = this.values[key]());\r\n    saveSettings(settings)\r\n      .then(() => {\r\n          // on success, show popup\r\n          app.alerts.show({ type: 'success' }, app.translator.trans('core.admin.settings.saved_message'));\r\n      })\r\n      .catch(() => {\r\n      })\r\n      .then(() => {\r\n          // return to the initial state and redraw the page\r\n          this.loading = false;\r\n          // window.location.reload();\r\n      });\r\n  }\r\n  addPrefix(key) {\r\n      return this.settingsPrefix + '.' + key;\r\n  }\r\n}\r\n","import app from 'flarum/admin/app';\r\n\r\nimport registerModels from \"../common/registerModels\";\r\nimport AchievementsPage from \"./components/AchievementsPage\";\r\n\r\napp.initializers.add(\"justoverclock/flachievements\", () => {\r\n  app.extensionData\r\n    .for(\"justoverclock-flachievements\")\r\n    .registerPage(AchievementsPage);\r\n\r\n  registerModels();\r\n});\r\n","/*\r\n *  Achievements Extension for Flarum\r\n *  Author: Miguel A. Lago\r\n *\r\n *  This program is free software: you can redistribute it and/or modify\r\n *  it under the terms of the GNU General Public License as published by\r\n *  the Free Software Foundation, either version 3 of the License, or\r\n *  (at your option) any later version.\r\n *\r\n *  This program is distributed in the hope that it will be useful,\r\n *  but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n *  GNU General Public License for more details.\r\n */\r\n\r\nimport Model from \"flarum/Model\";\r\nimport User from \"flarum/models/User\";\r\nimport Achievement from \"./models/Achievement\";\r\nimport AchievementUser from \"./models/AchievementUser\";\r\n\r\nexport default function registerModels() {\r\n  User.prototype.achievements = Model.hasMany('achievements','achievement_user');\r\n  User.prototype.achievement_user = Model.hasMany('achievement_user');\r\n\r\n  app.store.models.achievements = Achievement;\r\n  app.store.models.achievement_user = AchievementUser;\r\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","flarum","core","compat","_setPrototypeOf","t","e","setPrototypeOf","bind","__proto__","_inheritsLoose","create","constructor","Achievement","_Model","apply","arguments","Model","assign","id","name","description","computation","points","rectangle","image","new","active","hidden","AchievementUser","achievement_id","user_id","GroupSelector","_Component","_proto","oninit","vnode","oncreate","view","_this","label","app","trans","this","attrs","m","Dropdown","buttonClassName","map","g","Button","onclick","$","addClass","removeClass","attr","Component","AchievementModal","_Modal","achievement","model","store","createRecord","Stream","data","c","split","selected_variable","hide","row","col","width","height","className","title","translator","content","loading","LoadingIndicator","all_fields","fields","toArray","slice","items","ItemList","add","placeholder","bidi","Checkbox","state","onchange","Tooltip","text","showImage","class","type","disabled","length","exists","achievementImageShow","document","querySelector","imageData","includes","innerHTML","style","display","backgroundSize","backgroundRepeat","backgroundPosition","backgroundImage","background","submitData","join","onsubmit","_this2","preventDefault","save","then","confirm","redraw","Modal","AchievementUserModal","achievement_user","AchievementsItem","iconName","icon","addString","modal","show","AchievementsPage","_ExtensionPage","settings","values","settingsPrefix","forEach","Number","addPrefix","find","concat","all","Switch","changed","some","_this3","alerts","dismiss","successAlert","saveSettings","ExtensionPage","registerPage","User","achievements","models"],"sourceRoot":""}